---
title: "Dificuldade de uso na Educação"
author: "Grupo 2"
date: "25 de novembro de 2018"
output: 
  pdf_document:
    fig_width: 8
    fig_height: 8
---

  Para instalarem o que o Markdown precisa para funcionar cliquem no arquivo com um + no canto esquerdo da tela e selecione para criar um R markdown, ele vai perguntar se você quer baixar o que e necessario, entao é só aceitar.
  Depois disso ele ainda vai pedir para você baixar algo para ele entender o latex. Ao tentar rodar o exemplo que vem ao escolher o R Markdown ele vai falar o que você precisa baixar. Ele sugere downloads diferentes para cada SO, como o meu é Linux creio que é diferente do que será feito no Windows. Mas acredio que é bem fácil de baixar.
  Eu usei o tinytex no Linux: https://yihui.name/tinytex/

  O parametro {r eval = FALSE} vai omitir qualquer resultado obtido pelo codigo, e vai apenas printar ele.
  Enquanto {r echo = FALSE} é o contrario, vai exibir o resultado e ocultar o codigo
  Se nao quiser nenhum dos dois só utilize {r}.

  Para iniciar um "chunk" do Markdown, o qual é código em R que será executado, inicie o mesmo com:
  
  (três crases){r alguma_coisa_ou_nao = TRUE_FALSE}
  (três crases)

  Cuidado para nao confundir as crases com os apostrofos!
  Se ficar em dúvida veja o .rmd em que foi escrito este exemplo 


  Um exemplo do que acredito que deve ser feito é o seguinte:
  
  O primeiro passo para se montar o gráfico é carregar o RStudio com as funções necessárias para se ler os dados do arquivo excel "mses_alunos_2018.xlsx", as quais estão disponíveis no pacote "readxl".
  Caso eles não estejam instalados se executa o comando para fazer isso, e em seguida se carrega os dados do pacote com o comando *library*.

```{r eval = FALSE}

installed.packages("readxl")

library(readxl)

```

  Então seria continuar isso para o resto do código
  
  Para tornar em um pdf e executar o arquivo dificuldades-uso-educacao.Rmd, clique no icone do novelo escrito Knit ao lado. Este está logo acima.

```{r echo = FALSE}

df <- readxl::read_excel(path = "../dados/umses_alunos_2018.xlsx", sheet=1)
View(df)

total <- length(df$distracao)

outros <- sum(table(df$outras_dificuldades))

distracao <- table(df$distracao)[names(table(df$distracao)) == "1"]

usoindev <- table(df$usoindev)[names(table(df$usoindev)) == "1"]

prejintera <- table(df$prejintera)[names(table(df$prejintera)) == "1"]

bulling <- table(df$bulling)[names(table(df$bulling)) == "1"]

continadeq <- table(df$continadeq)[names(table(df$continadeq)) == "1"]


labels <- c("Distração", "Uso indevido", "Prejudica a interação aluno-professor", "Cyber-bullying", "Publicação de conteúdo inadequado")
values <- c(distracao, usoindev, prejintera, bulling, continadeq)

dados <- data.frame(labels, values)
nl <- data.frame("Outros", outros)
names(nl) <- c("labels", "values")

dadosOrdenados <- rbind(dados[with(dados, order(dados$values)),], nl)

#png("graficos/dificuldades-uso-educacao.png", width=600, height=600)

xval <- barplot(dadosOrdenados$values,
        main="Dificuldades no uso de mídias sociais \n num ambiente educacional",
        col=rainbow(6, s=.3),
        ylim=c(0, ceiling(total / 10) * 10),
        ylab="Quantidade de pessoas")

text(x=xval, y=dadosOrdenados$values + 0.05 * max(dadosOrdenados$values), dadosOrdenados$values, xpd=TRUE)

legend("topleft", legend=dadosOrdenados$labels, fill=rainbow(6, s=.3))


#dev.off()
```